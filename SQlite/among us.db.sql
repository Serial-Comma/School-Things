BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "Borrower" (
	"ID"	INTEGER NOT NULL,
	"FirstNane"	TEXT NOT NULL,
	"Surname"	TEXT NOT NULL,
	"Contact"	TEXT NOT NULL,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "Publisher" (
	"ID"	INTEGER NOT NULL,
	"Name"	TEXT NOT NULL,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "Book" (
	"ID"	INTEGER NOT NULL,
	"Title"	TEXT NOT NULL,
	"PublisherID"	INTEGER,
	"Damaged"	INTEGER NOT NULL CHECK("Damaged" = 0 OR "Damaged" = 1),
	PRIMARY KEY("ID"),
	FOREIGN KEY("PublisherID") REFERENCES "Publisher"("ID")
);
CREATE TABLE IF NOT EXISTS "Loan" (
	"ID"	INTEGER NOT NULL,
	"BorrowerID"	INTEGER NOT NULL,
	"BookID"	INTEGER NOT NULL,
	"DateBorrowed"	TEXT,
	FOREIGN KEY("BookID") REFERENCES "Book"("ID"),
	PRIMARY KEY("ID" AUTOINCREMENT),
	FOREIGN KEY("BorrowerID") REFERENCES "Borrower"("ID")
);
INSERT INTO "Borrower" VALUES (1,'Peter','Tan','999');
INSERT INTO "Borrower" VALUES (2,'Sarah','Lee','81111123');
INSERT INTO "Borrower" VALUES (3,'Kumara','Ravi','9445667');
INSERT INTO "Borrower" VALUES (4,'Some','User','11111111');
INSERT INTO "Publisher" VALUES (1,'NPH');
INSERT INTO "Publisher" VALUES (2,'Unpop');
INSERT INTO "Publisher" VALUES (3,'Appleson');
INSERT INTO "Publisher" VALUES (4,'Squirrel');
INSERT INTO "Publisher" VALUES (5,'Yellow Flame');
INSERT INTO "Book" VALUES (1,'The Lone Gatsby',5,0);
INSERT INTO "Book" VALUES (2,'A Winter''s Slumber',4,1);
INSERT INTO "Book" VALUES (3,'Life of Pie',4,0);
INSERT INTO "Book" VALUES (4,'A Brief History of Primates',3,0);
INSERT INTO "Book" VALUES (5,'To Praise a Mocking Bird',2,0);
INSERT INTO "Book" VALUES (6,'The Catcher in the Eye',1,1);
INSERT INTO "Book" VALUES (123,'',NULL,0);
INSERT INTO "Loan" VALUES (1,3,2,'20180220');
INSERT INTO "Loan" VALUES (2,3,1,'20171215');
INSERT INTO "Loan" VALUES (3,2,3,'20171231');
INSERT INTO "Loan" VALUES (4,1,5,'20180111');
COMMIT;
